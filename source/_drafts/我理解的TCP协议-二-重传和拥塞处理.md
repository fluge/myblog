---
title: 我理解的TCP协议(二)---重传和拥塞处理
date: 2017-02-08 17:54:51
categories: 
- TCP/IP
tags:
- TCP
---
TCP的可靠性不止建立在建立一个稳固的链接上，还有就是如果数据包丢失的重传机制，和防止网络波动的拥塞处理机制，这些都是慢慢发展而来的。
要先了解TCP的重传和拥塞处理,需要先了解两个很常见的变量--RTT和RTO,这两个是对重传和拥塞很重要的概念。
>RTT:就是对一个给定连接的往返时间的测量,由于路由器和网络流量均会变化，因此我们认为这个时间可能经常会发生变化，TCP应该跟踪这些变化并相应地改变其超时时间。  

>RTO:重传超时时间,是根据RTT计算得到的。   

### 重传
在重传机制中，首先在介绍重传的几个机制前，要注意。接收端给发送端的Ack确认只会确认最后一个连续的包,比如,发送端发了1,2,3,4,5一共五份数据，接收端收到了1,2,于是回ack 3,然后收到了4(注意此时3没收到)此时的TCP会怎么办?我们要知道,因为正如前面所说的,`SeqNum和Ack是以字节数为单位,所以ack的时候,不能跳着确认,只能确认最大的连续收到的包`,不然,发送端就以为之前的都收到了。
#### 超时重传


----  
参考:
[TCP 的那些事儿（上）](http://coolshell.cn/articles/11564.html)
[TCP 的那些事儿（下）](http://coolshell.cn/articles/11609.html)
